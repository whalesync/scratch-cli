---
description:
globs:
alwaysApply: true
---

# Server development

The source under /server is the backend for this project.

## Technologies

- Always use yarn.
- Before running any commands, change to the `/server` directory and run `nvm use` to activate the correct version.
- It is a NestJS project that serves REST.
- The application database is Postgres, managed by prisma. The schema is defined at server/prisma/schema.prisma.
- If schema.prisma is edited, you must run `yarn prisma generate` to generate the new types.
- DO NOT GENERATE A PRISMA MIGRATION. The user will generate those manually after verifying the schema changes. They are hard to undo. `yarn prisma generate` is always safe to run, though.
- files end with a new line not a space

## Typescript

- Avoid using `as any` as a solution to typing issues
- After generating code run the strict linter
- After generating code run the prettier
